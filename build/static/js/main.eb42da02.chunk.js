(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),i=a.n(s),o=(a(28),a(9)),l=a(10),c=a(15),u=a(11),h=a(14),d=a(3),m=(a(30),a(18)),b=a(37),g=a(39),f=a(38),v=(a(32),a(21)),p=Object(v.a)(),w={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("/users/authenticate",a).then(j).then(function(e){return localStorage.setItem("user",JSON.stringify(e)),p.push("/user_notes"),e})},logout:O};function O(){localStorage.removeItem("user")}function j(e){return e.text().then(function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&O();var n=a&&a.message||e.statusText;return Promise.reject(n)}return a})}var S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){console.log(a.state),e.preventDefault();var t=a.state,n=t.username,r=t.password;w.login(n,r)},a.state={email:"",password:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(b.a,{controlId:"email",bsSize:"large"},"Email",r.a.createElement("br",null),r.a.createElement(g.a,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(b.a,{controlId:"password",bsSize:"large"},"Password",r.a.createElement("br",null),r.a.createElement(g.a,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(f.a,{block:!0,bsSize:"large",disabled:!this.validateForm(),type:"submit",align:"center",className:"btn btn-primary"},"Login")))}}]),t}(n.Component),y=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={username:"",password:"",error:""},e.handlePassChange=e.handlePassChange.bind(Object(d.a)(Object(d.a)(e))),e.handleUserChange=e.handleUserChange.bind(Object(d.a)(Object(d.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(d.a)(Object(d.a)(e))),e.dismissError=e.dismissError.bind(Object(d.a)(Object(d.a)(e))),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"dismissError",value:function(){this.setState({error:""})}},{key:"handleSubmit",value:function(e){return e.preventDefault(),this.state.username?this.state.password?this.setState({error:""}):this.setState({error:"Password is required"}):this.setState({error:"Username is required"})}},{key:"handleUserChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement(S,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.eb42da02.chunk.js.map